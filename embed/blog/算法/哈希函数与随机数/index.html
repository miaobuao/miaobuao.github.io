<!DOCTYPE html><script type="module" src="/_astro/BlogPostEmbedLayout.astro_astro_type_script_index_0_lang.CBnQuka3.js"></script> <html lang="zh-CN" class="no-scrollbar"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>哈希函数与随机数</title><!-- Open Graph / Facebook --><meta property="og:title" content="哈希函数与随机数"><meta property="og:type" content="website"><meta property="og:url" content="https://yangqiuyi.com/embed/blog/%E7%AE%97%E6%B3%95/%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E4%B8%8E%E9%9A%8F%E6%9C%BA%E6%95%B0/"><meta name="description" content="上课笔记

"><meta property="og:description" content="上课笔记

"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.DY52MY3N.js"></script><link rel="stylesheet" href="/_astro/_slug_.DyZWVpeX.css"><script type="module" src="/_astro/page.nXIIYMne.js"></script></head> <body class="dark:text-white max-w-prose mx-auto">  <div class="flex flex-col rounded-lg"> <header class="p-4 flex flex-col"> <p class="break-all text-lg md:text-xl font-bold"> 哈希函数与随机数 </p> <p class="text-sm"> 杨秋逸 · 2021-03-27 </p> </header> <article class="prose max-sm:prose-sm dark:prose-invert text-inherit max-w-full py-4 px-4">  <p>上课笔记</p>
<!--more-->
<h2 id="哈希函数和随机数"><a href="#哈希函数和随机数">哈希函数和随机数</a></h2>
<h3 id="哈希函数"><a href="#哈希函数">哈希函数</a></h3>
<h4 id="长度"><a href="#长度">长度</a></h4>
<p>md5 32个字符长度
sha1 128 个字符长度 (常用)</p>
<p>要求：<code>明文小改，hash大变</code></p>
<h4 id="设计"><a href="#设计">设计</a></h4>
<h5 id="迭代"><a href="#迭代">迭代</a></h5>
<ol>
<li>消息填充为512倍数（最后几位是 消息长度mod 512）</li>
<li>等分</li>
<li>迭代</li>
</ol>
<p>第一代 sha1
第二代 sha256 sha512
第三代 keccak</p>
<h3 id="随机数"><a href="#随机数">随机数</a></h3>
<h4 id="性质"><a href="#性质">性质</a></h4>
<ol>
<li>随机性————不存在统计学偏差，完全杂乱的序列（弱随机）[线性同余法可以生成]</li>
<li>不可预测性———不能从过去的数列推测出下一个出现的数（强伪随机）</li>
<li>不可重现性———除非保存序列本身，否则不能重现相同序列（真随机）</li>
</ol>
<p>1，2 是伪随机数，但是具有“图灵不可区分”，也就是以假乱真</p>
<p>满足下面的一定满足下面的，满足上面的不一定满足下面的</p>
<h4 id="生成器"><a href="#生成器">生成器</a></h4>
<p>软件不可生成真随机数，必须有硬件参与（内部状态相同，所以可以产生相同随机数列）
而且软件生成的随机数在某一时刻必然重复，此为周期</p>
<p>可用鼠标位置，键盘输入间隔，热噪声产生不可重现的随机数（真随机数）</p>
<h5 id="伪随机数生成器"><a href="#伪随机数生成器">伪随机数生成器</a></h5>
<p>种子 ->（内部状态=有限自动机=一种算法）伪随机数生成器 -> 伪随机数列
同一个种子(key)，产生的随机数相同</p>
<h6 id="线性同余法"><a href="#线性同余法">线性同余法</a></h6>
<p><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mi>A</mi><mo>∗</mo><msub><mi>R</mi><mi>i</mi></msub><mo>+</mo><mi>C</mi><mo stretchy="false">)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">R_{i+1}=(A*R_{i}+C) mod M</annotation></semantics></math></span>
假设A=3,C=0,M=7,种子等于6，结果：
4 5 1 3 2 6 4 5 1 3 2 6… 周期为6
谨慎选择A,C,M可以产生具有随机性的数列</p>
<blockquote>
<p>java和C库都是线性同余法</p>
</blockquote>
<p>算法公开，种子保密，知道上一个，就算得出下一个</p>
<h6 id="单向hash函数法"><a href="#单向hash函数法">单向hash函数法</a></h6>
<p><span class="katex"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>h</mi><mi>a</mi><mi>s</mi><mi>h</mi><mo stretchy="false">(</mo><msub><mi>R</mi><mi>i</mi></msub><mo>+</mo><mi>D</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_{i+1}=hash(R_i+Date)</annotation></semantics></math></span></p>
<h6 id="密码法"><a href="#密码法">密码法</a></h6>
<h6 id="ansi-x917-美国的标准"><a href="#ansi-x917-美国的标准">ANSI X9.17 (美国的标准)</a></h6>
<h6 id="梅森算法"><a href="#梅森算法">梅森算法</a></h6>
<h6 id="java"><a href="#java">java</a></h6>
<ol>
<li>Java.util.random</li>
<li>Java.security.Secure.Random</li>
</ol>
<h4 id="攻击"><a href="#攻击">攻击</a></h4>
<p>攻击随机数使用环境</p>
<h5 id="随机数池"><a href="#随机数池">随机数池</a></h5>
<p>随机数不是使用时产生的，提前产生放在池中，所以呀，要保护随机数池，一般也会选择攻击随机数池</p>
<h4 id="标准"><a href="#标准">标准</a></h4>
<h5 id="随机性能监测"><a href="#随机性能监测">随机性能监测</a></h5>
<ol>
<li>《中华人民共和国密码行业标准》</li>
<li>NIST SP800-22（2010-04）
<ul>
<li>Tips：网上有软件</li>
</ul>
</li>
<li>民政部关于随机数的标准
<ul>
<li>MZ/T 093-2017 中国福利彩票系统彩票随机数检验规范</li>
</ul>
</li>
</ol>  </article> </div> <div class="mt-8 p-2"> <script type="module" src="/_astro/Giscus.astro_astro_type_script_index_0_lang.C2pfN53L.js"></script> <giscus-widget repo="miaobuao/miaobuao.github.io" repoId="R_kgDOJONNeg" categoryId="DIC_kwDOJONNes4CVJhu" mapping="og:title" strict="0" reactionsEnabled="1" emitMetadata="0" inputPosition="top" theme="preferred_color_scheme" lang="zh-CN" loading="lazy"></giscus-widget> </div><div class="h-16 sm:h-0"></div>  </body></html>