<!DOCTYPE html><script type="module" src="/_astro/BlogPostEmbedLayout.astro_astro_type_script_index_0_lang.CBnQuka3.js"></script> <html lang="zh-CN" class="no-scrollbar"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Linux 磁盘分区方案分享</title><!-- Open Graph / Facebook --><meta property="og:title" content="Linux 磁盘分区方案分享"><meta property="og:type" content="website"><meta property="og:url" content="https://yangqiuyi.com/embed/blog/linux/linux-ci-pan-fen-qu-fang-an-fen-xiang/"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.DY52MY3N.js"></script><link rel="stylesheet" href="/_astro/_slug_.DyZWVpeX.css"><script type="module" src="/_astro/page.nXIIYMne.js"></script></head> <body class="dark:text-white max-w-prose mx-auto">  <div class="flex flex-col rounded-lg"> <header class="p-4 flex flex-col"> <p class="break-all text-lg md:text-xl font-bold"> Linux 磁盘分区方案分享 </p> <p class="text-sm"> 杨秋逸 · 2025-03-28 </p> </header> <article class="prose max-sm:prose-sm dark:prose-invert text-inherit max-w-full py-4 px-4">  <h1 id="linux-磁盘分区方案分享"><a href="#linux-磁盘分区方案分享">Linux 磁盘分区方案分享</a></h1>
<h2 id="前言"><a href="#前言">前言</a></h2>
<p>由于在 Windows 下开发过于麻烦，遂换回 Linux。</p>
<p>我曾用过不少发行版，最喜欢的仍然是 Arch Linux。</p>
<p>然而，安装完后，打开电脑，却不太想开发了，大概是因为身体太过疲劳吧，需要休息一阵子。</p>
<p>闲来无事，作此文，分享前几天安装时使用的分区方案，内容仅供参考，实际使用时需要因地制宜。</p>
<h2 id="分区方案"><a href="#分区方案">分区方案</a></h2>
<p>首先贴一张最终的分区结构：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>NAME                 MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS</span></span>
<span class="line"><span>nvme0n1              259:0    0  3.7T  0 disk </span></span>
<span class="line"><span>├─nvme0n1p1          259:1    0  1.1G  0 part /boot</span></span>
<span class="line"><span>└─nvme0n1p2          259:2    0  3.7T  0 part </span></span>
<span class="line"><span>  ├─vg0-swap         253:0    0   16G  0 lvm  [SWAP]</span></span>
<span class="line"><span>  ├─vg0-root--arch   253:1    0  100G  0 lvm  /</span></span>
<span class="line"><span>  └─vg0-home--shared 253:2    0  512G  0 lvm  /home</span></span></code></pre>
<p>我的笔记本只有一块 4T 的固态，分区方案会比较明确。</p>
<p>首先是 EFI 分区，<a href="https://wiki.archlinux.org/title/Installation_guide#Example_layouts">ArchWiki 上的建议分配的空间是 1GiB</a>，我分配了 1.2GiB，将其格式化为 FAT32 格式。</p>
<p>利用剩下的空间，我创建了一个 LVM 的 PV 以及 VG（名为vg0）<sup><a href="#user-content-fn-https://wiki.archlinux.org/title/install_arch_linux_on_lvm" id="user-content-fnref-https://wiki.archlinux.org/title/install_arch_linux_on_lvm" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>：</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>  --- Physical volume ---</span></span>
<span class="line"><span>PV Name               /dev/nvme0n1p2</span></span>
<span class="line"><span>VG Name               vg0</span></span>
<span class="line"><span>PV Size               3.72 TiB / not usable 0</span></span>
<span class="line"><span>Allocatable           yes </span></span>
<span class="line"><span>PE Size               4.00 MiB</span></span>
<span class="line"><span>Total PE              976468</span></span>
<span class="line"><span>Free PE               815700</span></span>
<span class="line"><span>Allocated PE          160768</span></span>
<span class="line"><span>PV UUID               …………</span></span></code></pre>
<p>如果你的电脑有多个分区或设备可以使用，那你可以分别在他们上面创建 PV，然后用 vgextend 合并到同一个 VG 里<sup><a href="#user-content-fn-https://wiki.archlinux.org/title/install_arch_linux_on_lvm#create_and_extend_your_volume_group" id="user-content-fnref-https://wiki.archlinux.org/title/install_arch_linux_on_lvm#create_and_extend_your_volume_group" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup>。</p>
<p>随后我在 vg0 上创建了以下三个分区：</p>
<ol>
<li>16G 的交换分区（名为 swap）
<ul>
<li>选择理由：约等于机器内存大小，支持休眠功能</li>
</ul>
</li>
<li>100G 的根分区（名为 root-arch），使用 BTRFS，开启 zstd<directive-box-3></directive-box-3> 压缩
<ul>
<li>选择理由：足够系统和软件安装使用，BTRFS 压缩可节省空间</li>
</ul>
</li>
<li>512G 的家分区（名为 home-shared），使用 XFS
<ul>
<li>选择理由：日常文件存储，XFS 适合大文件读写</li>
</ul>
</li>
</ol>
<p>此时我的 vg0 尚有 3TiB 的自由空间未被分配，以后有需要时再按需分配即可。</p>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label"><a href="#footnote-label">Footnotes</a></h2>
<ol>
<li id="user-content-fn-https://wiki.archlinux.org/title/install_arch_linux_on_lvm">
<p><a href="https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM">https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM</a> <a href="#user-content-fnref-https://wiki.archlinux.org/title/install_arch_linux_on_lvm" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-https://wiki.archlinux.org/title/install_arch_linux_on_lvm#create_and_extend_your_volume_group">
<p><a href="https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM#Create_and_extend_your_volume_group">https://wiki.archlinux.org/title/Install_Arch_Linux_on_LVM#Create_and_extend_your_volume_group</a> <a href="#user-content-fnref-https://wiki.archlinux.org/title/install_arch_linux_on_lvm#create_and_extend_your_volume_group" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  </article> </div> <div class="mt-8 p-2"> <script type="module" src="/_astro/Giscus.astro_astro_type_script_index_0_lang.C2pfN53L.js"></script> <giscus-widget repo="miaobuao/miaobuao.github.io" repoId="R_kgDOJONNeg" categoryId="DIC_kwDOJONNes4CVJhu" mapping="og:title" strict="0" reactionsEnabled="1" emitMetadata="0" inputPosition="top" theme="preferred_color_scheme" lang="zh-CN" loading="lazy"></giscus-widget> </div><div class="h-16 sm:h-0"></div>  </body></html>